@inherits ComponentBase
@typeparam TData;
@using Microsoft.AspNetCore.Components.Web

<div class="select-main">
    <div class="select-display">
        <input type="text" class="form-control" @bind-value="_selectedItemText" readonly @onclick="BindContainerOptions" placeholder="Select an option" />
        @if (SelectedItem != null) 
        { 
            <span class="clear-button" @onclick="ClearSelected">x</span>
        }
        <span class="select-button @(_showContainerOptions ? "open" : "")" @onclick="BindContainerOptions"></span>
    </div>
    @if (_showContainerOptions)
    {
        <div class="select-container p-1" style="height: @_heigthContainer">
            <input type="text" class="select-search form-control w-100 mb-1" @oninput="OnFilter" />
            <ul class="select-container-options">
                @foreach (var item in _filterData)
                {
                    <li class="select-option" @onclick="(()=> SelectItem(item))">@GetText(item)</li>
                }
            </ul>
        </div>
    }
</div>
